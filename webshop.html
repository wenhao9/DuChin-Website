<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DuChin Webshop - Groothandel voor Ondernemers</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .product-image {
            height: 200px;
            object-fit: contain;
            width: 100%;
        }
        .cart-item {
            transition: all 0.3s ease;
        }
        .cart-item:hover {
            background-color: #f0f7ff;
        }
        #customer-form {
            display: none;
        }
        .free-delivery-banner {
            background-color: #f0fdf4;
            border-left: 4px solid #10b981;
            padding: 8px 12px;
            margin-bottom: 16px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-md py-4 px-6">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <a href="index.html">
                <span class="text-xl font-bold text-blue-700">DuChin</span>
            </a>
            <a href="index.html" class="text-blue-600 hover:underline">← Terug naar Hoofdsite</a>
        </div>
    </nav>

    <!-- Webshop Content -->
    <main class="max-w-6xl mx-auto py-12 px-4">
        <h1 class="text-3xl font-bold text-center mb-8">DuChin Groothandel Webshop</h1>
        
        <!-- Free Delivery Banner -->
        <div class="free-delivery-banner rounded-lg mb-8">
            <p class="text-green-700 font-medium">✓ Gratis bezorging bij bestellingen boven €350</p>
        </div>
        
        <!-- Product Grid -->
        <div class="grid md:grid-cols-3 gap-8 mb-12">
            
            <!-- PRODUCT 4 -->
<div class="bg-white p-6 rounded-lg shadow-md">
    <img src="images/draagtas_klein.png" alt="Draagtas klein kraft BIO" class="product-image mb-4">
    <h3 class="text-xl font-bold">7. Draagtas klein kraft BIO (22x10x28cm)</h3>
    <p class="text-gray-600 mb-2">250 stuks</p>
    <p class="text-blue-700 font-bold mb-4">€14.50</p>
    
    <div class="flex items-center mb-4">
        <button class="bg-gray-200 px-3 py-1 rounded-l" onclick="updateQuantity('product4', -1)">-</button>
        <input id="product4-qty" type="number" value="1" min="1" class="w-12 text-center border-y border-gray-200">
        <button class="bg-gray-200 px-3 py-1 rounded-r" onclick="updateQuantity('product4', 1)">+</button>
    </div>
    
    <button onclick="addToCart('7. Draagtas klein kraft BIO (22x10x28cm)', 14.50, 'product4-qty', '9987499')" 
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">In Winkelwagen</button>
</div>

            <!-- PRODUCT 6 -->
<div class="bg-white p-6 rounded-lg shadow-md">
    <img src="images/draagtas_middel_bio.png" alt="Draagtas middel kraft BIO" class="product-image mb-4">
    <h3 class="text-xl font-bold">8. Draagtas middel kraft BIO (26x17x27cm)</h3>
    <p class="text-gray-600 mb-2">250 stuks</p>
    <p class="text-blue-700 font-bold mb-4">€17.50</p>
    
    <div class="flex items-center mb-4">
        <button class="bg-gray-200 px-3 py-1 rounded-l" onclick="updateQuantity('product6', -1)">-</button>
        <input id="product6-qty" type="number" value="1" min="1" class="w-12 text-center border-y border-gray-200">
        <button class="bg-gray-200 px-3 py-1 rounded-r" onclick="updateQuantity('product6', 1)">+</button>
    </div>
    
    <button onclick="addToCart('8. Draagtas middel kraft BIO (26x17x27cm)', 17.50, 'product6-qty', '9987497')" 
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">In Winkelwagen</button>
</div>
            
<!-- PRODUCT 2 -->
<div class="bg-white p-6 rounded-lg shadow-md">
    <img src="images/draagtas middel.png" alt="Draagtas middelgroot" class="product-image mb-4">
    <h3 class="text-xl font-bold">2. Draagtas Middel RECYCLED (26x17x27cm) </h3>
    <p class="text-gray-600 mb-2">250 stuks</p>
    <p class="text-blue-700 font-bold mb-4">€16.00</p>
    
    <div class="flex items-center mb-4">
        <button class="bg-gray-200 px-3 py-1 rounded-l" onclick="updateQuantity('product2', -1)">-</button>
        <input id="product2-qty" type="number" value="1" min="1" class="w-12 text-center border-y border-gray-200">
        <button class="bg-gray-200 px-3 py-1 rounded-r" onclick="updateQuantity('product2', 1)">+</button>
    </div>
    
    <button onclick="addToCart('2. Draagtas Middel RECYCLED (26x17x27cm)', 16.00, 'product2-qty', '9988115')" 
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">In Winkelwagen</button>
</div>
            
           <!-- PRODUCT 5 -->
<div class="bg-white p-6 rounded-lg shadow-md">
    <img src="images/draagtas_groot_recycled.png" alt="Draagtas groot RECYCLED" class="product-image mb-4">
    <h3 class="text-xl font-bold">3. Draagtas groot RECYCLED (32x16x27cm)</h3>
    <p class="text-gray-600 mb-2">250 stuks</p>
    <p class="text-blue-700 font-bold mb-4">€17.00</p>
    
    <div class="flex items-center mb-4">
        <button class="bg-gray-200 px-3 py-1 rounded-l" onclick="updateQuantity('product5', -1)">-</button>
        <input id="product5-qty" type="number" value="1" min="1" class="w-12 text-center border-y border-gray-200">
        <button class="bg-gray-200 px-3 py-1 rounded-r" onclick="updateQuantity('product5', 1)">+</button>
    </div>
    
    <button onclick="addToCart('Draagtas groot RECYCLED (32x16x27cm)', 17.00, 'product5-qty', '9988114')" 
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">In Winkelwagen</button>
</div>
            
            <!-- PRODUCT 1 -->
<div class="bg-white p-6 rounded-lg shadow-md">
    <img src="images/a16 kraft.png" alt="A16 Kraft" class="product-image mb-4">
    <h3 class="text-xl font-bold">A16 Kraft</h3>
    <p class="text-gray-600 mb-2">400 stuks</p>
    <p class="text-blue-700 font-bold mb-4">€12.00</p>
    
    <div class="flex items-center mb-4">
        <button class="bg-gray-200 px-3 py-1 rounded-l" onclick="updateQuantity('product1', -1)">-</button>
        <input id="product1-qty" type="number" value="1" min="1" class="w-12 text-center border-y border-gray-200">
        <button class="bg-gray-200 px-3 py-1 rounded-r" onclick="updateQuantity('product1', 1)">+</button>
    </div>
    
    <button onclick="addToCart('A16 Kraft', 12.00, 'product1-qty', '9987895')" 
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">In Winkelwagen</button>
</div>



<!-- PRODUCT 3 -->
<div class="bg-white p-6 rounded-lg shadow-md">
    <img src="images/snackvork.png" alt="Snack forks" class="product-image mb-4">
    <h3 class="text-xl font-bold">Snackvork</h3>
    <p class="text-gray-600 mb-2">1000 stuks</p>
    <p class="text-blue-700 font-bold mb-4">€22.50</p>
    
    <div class="flex items-center mb-4">
        <button class="bg-gray-200 px-3 py-1 rounded-l" onclick="updateQuantity('product3', -1)">-</button>
        <input id="product3-qty" type="number" value="1" min="1" class="w-12 text-center border-y border-gray-200">
        <button class="bg-gray-200 px-3 py-1 rounded-r" onclick="updateQuantity('product3', 1)">+</button>
    </div>
    
    <button onclick="addToCart('Snackvork', 22.50, 'product3-qty', '9998554')" 
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">In Winkelwagen</button>
</div>
</div>

        <!-- Shopping Cart -->
        <div class="bg-white p-6 rounded-lg shadow-md w-full">
            <h2 class="text-2xl font-bold mb-6">Uw Bestelling</h2>
            
            <div id="cart-items" class="mb-6">
                <p class="text-gray-500 text-center py-8">Uw winkelwagen is leeg</p>
            </div>
            
            <div id="cart-summary" class="border-t pt-4">
                <div class="flex justify-between mb-2">
                    <span>Subtotaal:</span>
                    <span id="subtotal">€0.00</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span>BTW (21%):</span>
                    <span id="vat">€0.00</span>
                </div>
                <div class="flex justify-between mb-2" id="delivery-row">
                    <span>Bezorging:</span>
                    <span id="delivery">€0.00</span>
                </div>
                <div class="flex justify-between font-bold text-xl mt-4">
                    <span>Totaal:</span>
                    <span id="total">€0.00</span>
                </div>
                
                <!-- Free Delivery Progress -->
                <div id="delivery-progress" class="mt-4 hidden">
                    <div class="flex justify-between text-sm mb-1">
                        <span>Gratis bezorging vanaf €350</span>
                        <span id="progress-amount">€0/€350</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="progress-bar" class="bg-green-600 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            
            <button onclick="showCustomerForm()" 
                    class="mt-6 w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700">Naar Afrekenen</button>
        </div>

<!-- Customer Details Form -->
<div id="customer-form" class="bg-white p-6 rounded-lg shadow-md mt-8 w-full">
    <h2 class="text-2xl font-bold mb-6">Gegevens</h2>
    
    <form id="order-form" action="https://formsubmit.co/du.chin@hotmail.com" method="POST">
        <!-- FormSubmit Configuration -->
        <input type="hidden" name="_subject" value="New DuChin Order">
        <input type="hidden" name="_template" value="table">
        <input type="hidden" name="_autoresponse" value=""Bedankt voor uw bestelling bij DuChin!✓ Wij hebben uw bestelling ontvangen en zijn bezig met de verwerking. U ontvangt binnen 24 uur een bevestiging met meer details. Voor vragen kunt u mailen naar du.chin@hotmail.com.">
        <input type="hidden" name="_next" value="https://wenhao9.github.io/DuChin-Website/thank-you.html">
        <input type="hidden" name="_captcha" value="false">
        
        <div class="mb-4">
            <div class="flex items-center mb-2">
                <input type="checkbox" id="returning-customer" onchange="toggleReturningCustomer()" class="mr-2">
                <label for="returning-customer" class="font-medium">Ik ben een terugkerende klant</label>
            </div>
        </div>

        <!-- Regular Customer Fields -->
        <div id="regular-customer-fields">
            <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label for="name" class="block mb-2 font-medium">Volledige Naam*</label>
                    <input type="text" id="name" name="name" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label for="email" class="block mb-2 font-medium">E-mail*</label>
                    <input type="email" id="email" name="email" required class="w-full px-4 py-2 border rounded-lg">
                </div>
            </div>
            <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label for="phone" class="block mb-2 font-medium">Telefoonnummer*</label>
                    <input type="tel" id="phone" name="phone" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label for="company" class="block mb-2 font-medium">Bedrijfsnaam</label>
                    <input type="text" id="company" name="company" class="w-full px-4 py-2 border rounded-lg">
                </div>
            </div>
            <div class="mb-4">
                <label for="address" class="block mb-2 font-medium">Bezorgadres*</label>
                <textarea id="address" name="address" rows="3" required class="w-full px-4 py-2 border rounded-lg"></textarea>
            </div>
            <div class="mb-4">
                <label for="notes" class="block mb-2 font-medium">Opmerkingen</label>
                <textarea id="notes" name="notes" rows="2" class="w-full px-4 py-2 border rounded-lg"></textarea>
            </div>
        </div>

        <!-- Returning Customer Fields -->
        <div id="returning-customer-fields" class="hidden mb-4">
            <div class="grid md:grid-cols-2 gap-4">
                <div>
                    <label for="customer-number" class="block mb-2 font-medium">Klantnummer*</label>
                    <input type="text" id="customer-number" name="customer_number" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label for="returning-email" class="block mb-2 font-medium">E-mail*</label>
                    <input type="email" id="returning-email" name="returning_email" class="w-full px-4 py-2 border rounded-lg">
                </div>
            </div>
        </div>
        
        <!-- Hidden fields for cart data -->
        <input type="hidden" id="cart-data" name="cart_data">
        <input type="hidden" id="order-subtotal" name="order_subtotal">
        <input type="hidden" id="order-vat" name="order_vat">
        <input type="hidden" id="order-delivery" name="order_delivery">
        <input type="hidden" id="order-total" name="order_total">
        
        <div class="flex justify-between">
    <button type="button" onclick="hideCustomerForm()" 
            class="px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100">Terug naar Winkelwagen</button>
    <button type="submit" onclick="prepareFormSubmit()" 
            class="bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700">Bestelling Voltooien</button>
    <button type="button" onclick="downloadCSV()" 
            class="bg-gray-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-gray-700">CSV Downloaden</button>
</div>
            
        </div>
    </form>
</div>

    <script>
        let cart = [];
        const DELIVERY_COST = 12.95;
        const VAT_RATE = 0.21;
        const FREE_DELIVERY_THRESHOLD = 350;
        
        function updateQuantity(productId, change) {
            const input = document.getElementById(`${productId}-qty`);
            let newValue = parseInt(input.value) + change;
            if (newValue < 1) newValue = 1;
            input.value = newValue;
        }
        
        function addToCart(name, price, quantityId, sku) {
            const quantity = parseInt(document.getElementById(quantityId).value);
            const existingItem = cart.find(item => item.name === name);
    
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    name: name,
                    price: price,
                    quantity: quantity,
                    sku: sku
            });
    }
    
    updateCartDisplay();
    document.getElementById(quantityId).value = 1;
}
        
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartDisplay();
        }
        
        function updateCartDisplay() {
            const cartItemsElement = document.getElementById('cart-items');
            const subtotalElement = document.getElementById('subtotal');
            const vatElement = document.getElementById('vat');
            const deliveryElement = document.getElementById('delivery');
            const totalElement = document.getElementById('total');
            const deliveryProgress = document.getElementById('delivery-progress');
            const progressAmount = document.getElementById('progress-amount');
            const progressBar = document.getElementById('progress-bar');
            
            if (cart.length === 0) {
                cartItemsElement.innerHTML = `<p class="text-gray-500 text-center py-8">Uw winkelwagen is leeg</p>`;
                subtotalElement.textContent = '€0.00';
                vatElement.textContent = '€0.00';
                deliveryElement.textContent = '€0.00';
                totalElement.textContent = '€0.00';
                deliveryProgress.classList.add('hidden');
                return;
            }
            
            let html = '';
            let subtotal = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                html += `
                    <div class="cart-item flex justify-between items-center py-4 border-b">
                        <div>
                            <h4 class="font-bold">${item.name}</h4>
                            <p>${item.quantity} × €${item.price.toFixed(2)}</p>
                        </div>
                        <div class="flex items-center">
                            <span class="font-bold mr-4">€${itemTotal.toFixed(2)}</span>
                            <button onclick="removeFromCart(${index})" class="text-red-500 hover:text-red-700">
                                ×
                            </button>
                        </div>
                    </div>
                `;
            });
            
            cartItemsElement.innerHTML = html;
            
            // Calculate VAT
            const vat = subtotal * VAT_RATE;
            
            // Calculate delivery (free if subtotal >= 350)
            const delivery = subtotal >= FREE_DELIVERY_THRESHOLD ? 0 : DELIVERY_COST;
            
            // Calculate total
            const total = subtotal + vat + delivery;
            
            // Update summary
            subtotalElement.textContent = `€${subtotal.toFixed(2)}`;
            vatElement.textContent = `€${vat.toFixed(2)}`;
            
            if (subtotal >= FREE_DELIVERY_THRESHOLD) {
                deliveryElement.innerHTML = '<span class="text-green-600">GRATIS</span>';
                deliveryProgress.classList.add('hidden');
            } else {
                deliveryElement.textContent = `€${delivery.toFixed(2)}`;
                deliveryProgress.classList.remove('hidden');
                
                // Update progress bar
                const progressPercent = Math.min((subtotal / FREE_DELIVERY_THRESHOLD) * 100, 100);
                progressBar.style.width = `${progressPercent}%`;
                progressAmount.textContent = `€${subtotal.toFixed(2)}/€${FREE_DELIVERY_THRESHOLD}`;
            }
            
            totalElement.textContent = `€${total.toFixed(2)}`;
        }
        
        function showCustomerForm() {
            if (cart.length === 0) {
                alert('Uw winkelwagen is leeg. Voeg eerst producten toe.');
                return;
            }
            document.getElementById('customer-form').style.display = 'block';
            window.scrollTo({
                top: document.getElementById('customer-form').offsetTop,
                behavior: 'smooth'
            });
        }
        
        function hideCustomerForm() {
            document.getElementById('customer-form').style.display = 'none';
        }
        function prepareFormSubmit() {
    // Prepare CSV data for email
    let csvData = "SKU,Quantity\n";
    cart.forEach(item => {
        csvData += `${item.sku},${item.quantity}\n`;
    });
    
    // Prepare readable format for email body
    let readableCartData = "=== ORDER DETAILS ===\n";
    cart.forEach(item => {
        readableCartData += `${item.quantity} × ${item.name} (${item.sku})\n`;
    });
    
    // Get order summary values
    const subtotal = document.getElementById('subtotal').textContent.replace('€', '');
    const vat = document.getElementById('vat').textContent.replace('€', '');
    const deliveryText = document.getElementById('delivery').textContent;
    const delivery = deliveryText.includes('GRATIS') ? 'FREE' : deliveryText.replace('€', '');
    const total = document.getElementById('total').textContent.replace('€', '');
    
    // Combine all data
    const fullOrderData = "BESTELGEGEVENS:\n" + readableCartData + "\n" +
                         "Subtotaal: €" + subtotal + "\n" +
                         "BTW: €" + vat + "\n" +
                         "Bezorging: " + delivery + "\n" +
                         "TOTAAL: €" + total + "\n\n" +
                         "CSV DATA:\n" + csvData;
    
    // Set hidden field values
    document.getElementById('cart-data').value = fullOrderData;
    document.getElementById('order-subtotal').value = subtotal;
    document.getElementById('order-vat').value = vat;
    document.getElementById('order-delivery').value = delivery;
    document.getElementById('order-total').value = total;
    
    return true;
}
function toggleReturningCustomer() {
    const isReturning = document.getElementById('returning-customer').checked;
    const returningFields = document.getElementById('returning-customer-fields');
    const regularFields = document.getElementById('regular-customer-fields');
    
    if (isReturning) {
        returningFields.classList.remove('hidden');
        regularFields.classList.add('hidden');
        
        // Maak reguliere velden niet verplicht
        document.getElementById('name').required = false;
        document.getElementById('email').required = false;
        document.getElementById('phone').required = false;
        document.getElementById('address').required = false;
        
        // Maak terugkerende klant velden verplicht
        document.getElementById('customer-number').required = true;
        document.getElementById('returning-email').required = true;
    } else {
        returningFields.classList.add('hidden');
        regularFields.classList.remove('hidden');
        
        // Maak reguliere velden weer verplicht
        document.getElementById('name').required = true;
        document.getElementById('email').required = true;
        document.getElementById('phone').required = true;
        document.getElementById('address').required = true;
        
        // Maak terugkerende klant velden niet verplicht
        document.getElementById('customer-number').required = false;
        document.getElementById('returning-email').required = false;
    }
}        
        function downloadCSV() {
    if (cart.length === 0) {
        alert('Uw winkelwagen is leeg. Voeg eerst producten toe.');
        return;
    }
    
    // Prepare CSV data
    let csvData = "SKU,Quantity\n";
    cart.forEach(item => {
        csvData += `${item.sku},${item.quantity}\n`;
    });
    
    // Create download link
    const blob = new Blob([csvData], { type: 'text/csv;charset=utf-8;' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.setAttribute('hidden', '');
    a.setAttribute('href', url);
    a.setAttribute('download', 'bestelling.csv');
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
}
    </script>
</body>
</html>














